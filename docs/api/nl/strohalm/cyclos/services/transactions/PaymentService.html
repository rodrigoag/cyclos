<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="pt">
<head>
<!-- Generated by javadoc (version 1.7.0_11) on Fri Jan 25 09:33:31 BRST 2013 -->
<title>PaymentService (Cyclos 3 Documentation)</title>
<meta name="date" content="2013-01-25">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PaymentService (Cyclos 3 Documentation)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentRequestHandler.html" title="interface in nl.strohalm.cyclos.services.transactions"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentServiceImpl.html" title="class in nl.strohalm.cyclos.services.transactions"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?nl/strohalm/cyclos/services/transactions/PaymentService.html" target="_top">Frames</a></li>
<li><a href="PaymentService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">nl.strohalm.cyclos.services.transactions</div>
<h2 title="Interface PaymentService" class="title">Interface PaymentService</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../../nl/strohalm/cyclos/services/Service.html" title="interface in nl.strohalm.cyclos.services">Service</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentServiceLocal.html" title="interface in nl.strohalm.cyclos.services.transactions">PaymentServiceLocal</a></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentServiceImpl.html" title="class in nl.strohalm.cyclos.services.transactions">PaymentServiceImpl</a>, <a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentServiceSecurity.html" title="class in nl.strohalm.cyclos.services.transactions">PaymentServiceSecurity</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">PaymentService</span>
extends <a href="../../../../../nl/strohalm/cyclos/services/Service.html" title="interface in nl.strohalm.cyclos.services">Service</a></pre>
<div class="block">Service interface for payments</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>luis</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../nl/strohalm/cyclos/services/transactions/ScheduledPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">ScheduledPaymentDTO</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#calculatePaymentProjection(nl.strohalm.cyclos.services.transactions.ProjectionDTO)">calculatePaymentProjection</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/transactions/ProjectionDTO.html" title="class in nl.strohalm.cyclos.services.transactions">ProjectionDTO</a>&nbsp;params)</code>
<div class="block">Calculates the scheduled payment projection</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#canChargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer, boolean)">canChargeback</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer,
             boolean&nbsp;ignorePendingPayment)</code>
<div class="block">Checks whether the given transfer may be charged back, but without taking in account the logged user.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#chargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">chargeback</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer)</code>
<div class="block">Chargebacks a transfer, returning it's amount to the original account, and does this for all generated transfer tree</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Payment.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Payment</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#doPayment(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">doPayment</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;params)</code>
<div class="block">Performs a payment</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/webservices/accounts/AccountHistoryResultPage.html" title="class in nl.strohalm.cyclos.webservices.accounts">AccountHistoryResultPage</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#getAccountHistoryResultPage(nl.strohalm.cyclos.webservices.payments.AccountHistoryParams)">getAccountHistoryResultPage</a></strong>(<a href="../../../../../nl/strohalm/cyclos/webservices/payments/AccountHistoryParams.html" title="class in nl.strohalm.cyclos.webservices.payments">AccountHistoryParams</a>&nbsp;params)</code>
<div class="block">Returns an AccountHistoryResultPage for the given parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/webservices/model/AccountHistoryTransferVO.html" title="class in nl.strohalm.cyclos.webservices.model">AccountHistoryTransferVO</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#getAccountHistoryTransferVO(java.lang.Long)">getAccountHistoryTransferVO</a></strong>(java.lang.Long&nbsp;id)</code>
<div class="block">Returns an account history transfer vo for the given transfer id.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#getDefaultConversionDTO(nl.strohalm.cyclos.entities.accounts.MemberAccount, java.util.List)">getDefaultConversionDTO</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/MemberAccount.html" title="class in nl.strohalm.cyclos.entities.accounts">MemberAccount</a>&nbsp;account,
                       java.util.List&lt;<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/TransferType.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">TransferType</a>&gt;&nbsp;transferTypes)</code>
<div class="block">Returns a ConversionSimulationDTO containing the default values for the given member's default account, and chooses the transferType from the
 transferTypes param which belongs to the member and has rated fees.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.math.BigDecimal</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#getMinimumPayment()">getMinimumPayment</a></strong>()</code>
<div class="block">Returns the minimum payment</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/services/stats/StatisticalResultDTO.html" title="class in nl.strohalm.cyclos.services.stats">StatisticalResultDTO</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#getSimulateConversionGraph(nl.strohalm.cyclos.services.accounts.rates.ConversionSimulationDTO)">getSimulateConversionGraph</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a>&nbsp;dto)</code>
<div class="block">creates data for a graph showing the decline of the fees over time on a conversion.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#hasPermissionsToChargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">hasPermissionsToChargeback</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer)</code>
<div class="block">Checks if the logged user has the right permissions to perform a chargeback of the given transfer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#isVisible(nl.strohalm.cyclos.entities.accounts.transactions.Payment)">isVisible</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Payment.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Payment</a>&nbsp;payment)</code>
<div class="block">Returns whether the given payment is visible by the current user</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#load(java.lang.Long, nl.strohalm.cyclos.entities.Relationship...)">load</a></strong>(java.lang.Long&nbsp;id,
    <a href="../../../../../nl/strohalm/cyclos/entities/Relationship.html" title="interface in nl.strohalm.cyclos.entities">Relationship</a>...&nbsp;fetch)</code>
<div class="block">Returns details of a single transfer</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#search(nl.strohalm.cyclos.entities.accounts.transactions.TransferQuery)">search</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/TransferQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">TransferQuery</a>&nbsp;query)</code>
<div class="block">Searches for transfers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/services/transfertypes/TransactionFeePreviewForRatesDTO.html" title="class in nl.strohalm.cyclos.services.transfertypes">TransactionFeePreviewForRatesDTO</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#simulateConversion(nl.strohalm.cyclos.services.accounts.rates.ConversionSimulationDTO)">simulateConversion</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a>&nbsp;params)</code>
<div class="block">Simulates the conversion fees</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Payment.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Payment</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#simulatePayment(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">simulatePayment</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;params)</code>
<div class="block">Simulates a payment, without actually performing it.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#validate(nl.strohalm.cyclos.services.accounts.rates.ConversionSimulationDTO)">validate</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a>&nbsp;dto)</code>
<div class="block">validates the conversion simulation form</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#validate(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">validate</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;payment)</code>
<div class="block">Validates the specified payment</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#wouldRequireAuthorization(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">wouldRequireAuthorization</a></strong>(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;dto)</code>
<div class="block">Checks whether the given payment would require authorization</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#wouldRequireAuthorization(nl.strohalm.cyclos.entities.accounts.transactions.Invoice)">wouldRequireAuthorization</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Invoice.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Invoice</a>&nbsp;invoice)</code>
<div class="block">Checks whether accepting the given invoice would require authorization</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#wouldRequireAuthorization(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">wouldRequireAuthorization</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer)</code>
<div class="block">Checks whether the given transfer would require authorization</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentService.html#wouldRequireAuthorization(nl.strohalm.cyclos.entities.accounts.transactions.TransferType, java.math.BigDecimal, nl.strohalm.cyclos.entities.accounts.AccountOwner)">wouldRequireAuthorization</a></strong>(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/TransferType.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">TransferType</a>&nbsp;transferType,
                         java.math.BigDecimal&nbsp;amount,
                         <a href="../../../../../nl/strohalm/cyclos/entities/accounts/AccountOwner.html" title="interface in nl.strohalm.cyclos.entities.accounts">AccountOwner</a>&nbsp;from)</code>
<div class="block">Checks whether a payment would require authorization</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="calculatePaymentProjection(nl.strohalm.cyclos.services.transactions.ProjectionDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculatePaymentProjection</h4>
<pre>java.util.List&lt;<a href="../../../../../nl/strohalm/cyclos/services/transactions/ScheduledPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">ScheduledPaymentDTO</a>&gt;&nbsp;calculatePaymentProjection(<a href="../../../../../nl/strohalm/cyclos/services/transactions/ProjectionDTO.html" title="class in nl.strohalm.cyclos.services.transactions">ProjectionDTO</a>&nbsp;params)</pre>
<div class="block">Calculates the scheduled payment projection</div>
</li>
</ul>
<a name="getAccountHistoryResultPage(nl.strohalm.cyclos.webservices.payments.AccountHistoryParams)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccountHistoryResultPage</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/webservices/accounts/AccountHistoryResultPage.html" title="class in nl.strohalm.cyclos.webservices.accounts">AccountHistoryResultPage</a>&nbsp;getAccountHistoryResultPage(<a href="../../../../../nl/strohalm/cyclos/webservices/payments/AccountHistoryParams.html" title="class in nl.strohalm.cyclos.webservices.payments">AccountHistoryParams</a>&nbsp;params)</pre>
<div class="block">Returns an AccountHistoryResultPage for the given parameters.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>params</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAccountHistoryTransferVO(java.lang.Long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccountHistoryTransferVO</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/webservices/model/AccountHistoryTransferVO.html" title="class in nl.strohalm.cyclos.webservices.model">AccountHistoryTransferVO</a>&nbsp;getAccountHistoryTransferVO(java.lang.Long&nbsp;id)</pre>
<div class="block">Returns an account history transfer vo for the given transfer id.</div>
</li>
</ul>
<a name="canChargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canChargeback</h4>
<pre>boolean&nbsp;canChargeback(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer,
                    boolean&nbsp;ignorePendingPayment)</pre>
<div class="block">Checks whether the given transfer may be charged back, but without taking in account the logged user. The criteria is:
 <ul>
 <li>The payment must be processed (have a non-null processDate)
 <li>The maximum chargeback time on local settings must be respected
 <li>The payment must be a root payment (cannot have a parent transfer)
 <li>The payment must not have been already charged back
 <li>The payment must not be a chargeback itself
 </ul></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ignorePendingPayment</code> - if true it won't check if the transfer was processed (is pending)</dd></dl>
</li>
</ul>
<a name="chargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>chargeback</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;chargeback(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer)
                    throws <a href="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</a></pre>
<div class="block">Chargebacks a transfer, returning it's amount to the original account, and does this for all generated transfer tree</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The chargeback payment</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</a></code> - When the payment cannot be charged back</dd></dl>
</li>
</ul>
<a name="doPayment(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doPayment</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Payment.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Payment</a>&nbsp;doPayment(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;params)
                  throws <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/NotEnoughCreditsException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">NotEnoughCreditsException</a>,
                         <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/MaxAmountPerDayExceededException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">MaxAmountPerDayExceededException</a>,
                         <a href="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</a>,
                         <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/UpperCreditLimitReachedException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">UpperCreditLimitReachedException</a>,
                         <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/AuthorizedPaymentInPastException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">AuthorizedPaymentInPastException</a></pre>
<div class="block">Performs a payment</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The main payment. May be a <a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/ScheduledPayment.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions"><code>ScheduledPayment</code></a> or <a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions"><code>Transfer</code></a>. It may contain children transfers (generated, for example, by
 fees)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/NotEnoughCreditsException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">NotEnoughCreditsException</a></code> - The account does not have enough credits</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/MaxAmountPerDayExceededException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">MaxAmountPerDayExceededException</a></code> - The account has exceeded the maximum transaction amount per day for the specified transfer type</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</a></code> - Either transfer type or payment receiver are invalid</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/UpperCreditLimitReachedException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">UpperCreditLimitReachedException</a></code> - The payment cannot be performed because it would make the receiving account go beyond the upper credit
 limit</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/AuthorizedPaymentInPastException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">AuthorizedPaymentInPastException</a></code> - When the payment would require authorization and is set to a past date</dd></dl>
</li>
</ul>
<a name="getDefaultConversionDTO(nl.strohalm.cyclos.entities.accounts.MemberAccount, java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultConversionDTO</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a>&nbsp;getDefaultConversionDTO(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/MemberAccount.html" title="class in nl.strohalm.cyclos.entities.accounts">MemberAccount</a>&nbsp;account,
                                              java.util.List&lt;<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/TransferType.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">TransferType</a>&gt;&nbsp;transferTypes)</pre>
<div class="block">Returns a ConversionSimulationDTO containing the default values for the given member's default account, and chooses the transferType from the
 transferTypes param which belongs to the member and has rated fees. If no TransferType with rated fees available, it just uses the first
 transferType</div>
</li>
</ul>
<a name="getMinimumPayment()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinimumPayment</h4>
<pre>java.math.BigDecimal&nbsp;getMinimumPayment()</pre>
<div class="block">Returns the minimum payment</div>
</li>
</ul>
<a name="getSimulateConversionGraph(nl.strohalm.cyclos.services.accounts.rates.ConversionSimulationDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSimulateConversionGraph</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/services/stats/StatisticalResultDTO.html" title="class in nl.strohalm.cyclos.services.stats">StatisticalResultDTO</a>&nbsp;getSimulateConversionGraph(<a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a>&nbsp;dto)</pre>
<div class="block">creates data for a graph showing the decline of the fees over time on a conversion. Called from Simulate conversion.</div>
</li>
</ul>
<a name="hasPermissionsToChargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPermissionsToChargeback</h4>
<pre>boolean&nbsp;hasPermissionsToChargeback(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer)</pre>
<div class="block">Checks if the logged user has the right permissions to perform a chargeback of the given transfer.</div>
</li>
</ul>
<a name="isVisible(nl.strohalm.cyclos.entities.accounts.transactions.Payment)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isVisible</h4>
<pre>boolean&nbsp;isVisible(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Payment.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Payment</a>&nbsp;payment)</pre>
<div class="block">Returns whether the given payment is visible by the current user</div>
</li>
</ul>
<a name="load(java.lang.Long, nl.strohalm.cyclos.entities.Relationship...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;load(java.lang.Long&nbsp;id,
            <a href="../../../../../nl/strohalm/cyclos/entities/Relationship.html" title="interface in nl.strohalm.cyclos.entities">Relationship</a>...&nbsp;fetch)
              throws <a href="../../../../../nl/strohalm/cyclos/entities/exceptions/EntityNotFoundException.html" title="class in nl.strohalm.cyclos.entities.exceptions">EntityNotFoundException</a></pre>
<div class="block">Returns details of a single transfer</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../nl/strohalm/cyclos/entities/exceptions/EntityNotFoundException.html" title="class in nl.strohalm.cyclos.entities.exceptions">EntityNotFoundException</a></code> - No such id</dd></dl>
</li>
</ul>
<a name="search(nl.strohalm.cyclos.entities.accounts.transactions.TransferQuery)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>search</h4>
<pre>java.util.List&lt;<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&gt;&nbsp;search(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/TransferQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">TransferQuery</a>&nbsp;query)</pre>
<div class="block">Searches for transfers</div>
</li>
</ul>
<a name="simulateConversion(nl.strohalm.cyclos.services.accounts.rates.ConversionSimulationDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>simulateConversion</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/services/transfertypes/TransactionFeePreviewForRatesDTO.html" title="class in nl.strohalm.cyclos.services.transfertypes">TransactionFeePreviewForRatesDTO</a>&nbsp;simulateConversion(<a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a>&nbsp;params)</pre>
<div class="block">Simulates the conversion fees</div>
</li>
</ul>
<a name="simulatePayment(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>simulatePayment</h4>
<pre><a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Payment.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Payment</a>&nbsp;simulatePayment(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;params)
                        throws <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/NotEnoughCreditsException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">NotEnoughCreditsException</a>,
                               <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/MaxAmountPerDayExceededException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">MaxAmountPerDayExceededException</a>,
                               <a href="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</a>,
                               <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/UpperCreditLimitReachedException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">UpperCreditLimitReachedException</a>,
                               <a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/AuthorizedPaymentInPastException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">AuthorizedPaymentInPastException</a></pre>
<div class="block">Simulates a payment, without actually performing it. The result (and exception) are the same as doPayment*</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The main transfer. It may contain children transfers (generated, for example, by fees)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/NotEnoughCreditsException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">NotEnoughCreditsException</a></code> - The account does not have enough credits</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/MaxAmountPerDayExceededException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">MaxAmountPerDayExceededException</a></code> - The account has exceeded the maximum transaction amount per day for the specified transfer type</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</a></code> - Either transfer type or payment receiver are invalid</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/UpperCreditLimitReachedException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">UpperCreditLimitReachedException</a></code> - The payment cannot be performed because it would make the receiving account go beyond the upper credit
 limit</dd>
<dd><code>InvalidPaymentReceiverException</code> - When the given <code>DoPaymentDTO</code> is not the system</dd>
<dd><code><a href="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/AuthorizedPaymentInPastException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">AuthorizedPaymentInPastException</a></code> - When the payment would require authorization and is set to a past date</dd></dl>
</li>
</ul>
<a name="validate(nl.strohalm.cyclos.services.accounts.rates.ConversionSimulationDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>void&nbsp;validate(<a href="../../../../../nl/strohalm/cyclos/services/accounts/rates/ConversionSimulationDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ConversionSimulationDTO</a>&nbsp;dto)</pre>
<div class="block">validates the conversion simulation form</div>
</li>
</ul>
<a name="validate(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>validate</h4>
<pre>void&nbsp;validate(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;payment)</pre>
<div class="block">Validates the specified payment</div>
</li>
</ul>
<a name="wouldRequireAuthorization(nl.strohalm.cyclos.services.transactions.DoPaymentDTO)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wouldRequireAuthorization</h4>
<pre>boolean&nbsp;wouldRequireAuthorization(<a href="../../../../../nl/strohalm/cyclos/services/transactions/DoPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">DoPaymentDTO</a>&nbsp;dto)</pre>
<div class="block">Checks whether the given payment would require authorization</div>
</li>
</ul>
<a name="wouldRequireAuthorization(nl.strohalm.cyclos.entities.accounts.transactions.Invoice)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wouldRequireAuthorization</h4>
<pre>boolean&nbsp;wouldRequireAuthorization(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Invoice.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Invoice</a>&nbsp;invoice)</pre>
<div class="block">Checks whether accepting the given invoice would require authorization</div>
</li>
</ul>
<a name="wouldRequireAuthorization(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wouldRequireAuthorization</h4>
<pre>boolean&nbsp;wouldRequireAuthorization(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</a>&nbsp;transfer)</pre>
<div class="block">Checks whether the given transfer would require authorization</div>
</li>
</ul>
<a name="wouldRequireAuthorization(nl.strohalm.cyclos.entities.accounts.transactions.TransferType, java.math.BigDecimal, nl.strohalm.cyclos.entities.accounts.AccountOwner)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>wouldRequireAuthorization</h4>
<pre>boolean&nbsp;wouldRequireAuthorization(<a href="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/TransferType.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">TransferType</a>&nbsp;transferType,
                                java.math.BigDecimal&nbsp;amount,
                                <a href="../../../../../nl/strohalm/cyclos/entities/accounts/AccountOwner.html" title="interface in nl.strohalm.cyclos.entities.accounts">AccountOwner</a>&nbsp;from)</pre>
<div class="block">Checks whether a payment would require authorization</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentRequestHandler.html" title="interface in nl.strohalm.cyclos.services.transactions"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../nl/strohalm/cyclos/services/transactions/PaymentServiceImpl.html" title="class in nl.strohalm.cyclos.services.transactions"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?nl/strohalm/cyclos/services/transactions/PaymentService.html" target="_top">Frames</a></li>
<li><a href="PaymentService.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
